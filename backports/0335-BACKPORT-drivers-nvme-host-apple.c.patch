From: Israel Rukshin <israelr@nvidia.com>
Subject: [PATCH] BACKPORT: drivers/nvme/host/apple.c

Change-Id: I0c4865f4ec30b92e7fc53abfe22d007793529441
Signed-off-by: Israel Rukshin <israelr@nvidia.com>
---
 drivers/nvme/host/apple.c | 5 +++++
 1 file changed, 5 insertions(+)

--- a/drivers/nvme/host/apple.c
+++ b/drivers/nvme/host/apple.c
@@ -873,7 +873,12 @@ static void apple_nvme_disable(struct ap
 	}
 }
 
+#ifdef HAVE_BLK_MQ_OPS_TIMEOUT_1_PARAM
 static enum blk_eh_timer_return apple_nvme_timeout(struct request *req)
+#else
+static enum blk_eh_timer_return apple_nvme_timeout(struct request *req,
+						   bool reserved)
+#endif
 {
 	struct apple_nvme_iod *iod = blk_mq_rq_to_pdu(req);
 	struct apple_nvme_queue *q = iod->q;
